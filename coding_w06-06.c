#include <stdio.h>

int main() {
    // กำหนดค่าเริ่มต้นของตัวแปรตามโจทย์
    int a = 5, b = 2;
    double x = 3.0, y = 4.5;

    // คำนวณนิพจน์ที่ 1: int r1 = a++ * b + (int)y % 3;
    // a++ จะใช้ค่า a เดิม (5) ในการคำนวณก่อน แล้วค่อยเพิ่มค่า a เป็น 6
    // (int)y จะแปลงค่า y (4.5) เป็นจำนวนเต็ม (4)
    // การคำนวณ: 5 * 2 + 4 % 3
    // 5 * 2 = 10
    // 4 % 3 = 1 (เศษจากการหาร)
    // 10 + 1 = 11
    int r1 = a++ * b + (int)y % 3;
    printf("นิพจน์ที่ 1: r1 = a++ * b + (int)y %% 3; \nผลลัพธ์: %d \n\n", r1);

    // คำนวณนิพจน์ที่ 2: int r2 = (a > b) && ( (int)x / b < 2);
    // a ในตอนนี้มีค่าเป็น 6 (จากนิพจน์ที่แล้ว)
    // (a > b) -> (6 > 2) เป็นจริง (true)
    // (int)x / b -> (int)3.0 / 2 -> 3 / 2 = 1 (การหารจำนวนเต็ม)
    // (1 < 2) เป็นจริง (true)
    // true && true เป็นจริง (true)
    // ในภาษา C ค่า true คือ 1 และ false คือ 0
    int r2 = (a > b) && ((int)x / b < 2);
    printf("นิพจน์ที่ 2: r2 = (a > b) && ((int)x / b < 2); \nผลลัพธ์: %d \n\n", r2);

    // คำนวณนิพจน์ที่ 3: float r3 = ++x * y - a / 2;
    // ++x จะเพิ่มค่า x จาก 3.0 เป็น 4.0 ก่อนทำการคำนวณ
    // a ในตอนนี้มีค่าเป็น 6
    // การคำนวณ: 4.0 * 4.5 - 6 / 2
    // 4.0 * 4.5 = 18.0
    // 6 / 2 = 3 (การหารจำนวนเต็ม เพราะตัวแปร a และ 2 เป็น int)
    // 18.0 - 3 = 15.0
    // ผลลัพธ์เป็น float
    float r3 = ++x * y - a / 2;
    printf("นิพจน์ที่ 3: r3 = ++x * y - a / 2; \nผลลัพธ์: %.2f \n\n", r3);

    // คำนวณนิพจน์ที่ 4: float r4 = (((x += 1.5) > y) || (b-- > 0));
    // x += 1.5 จะเพิ่มค่า x จาก 4.0 เป็น 5.5
    // (x > y) -> (5.5 > 4.5) เป็นจริง (true)
    // เมื่อเงื่อนไขแรกเป็นจริง (true) จะไม่ต้องตรวจสอบเงื่อนไขที่สอง (short-circuit evaluation)
    // ดังนั้น b-- จะไม่ถูกประมวลผล ค่า b ยังคงเดิมคือ 2
    // true || อะไรก็ตาม ก็จะได้ true
    // ผลลัพธ์เป็น float
    float r4 = (((x += 1.5) > y) || (b-- > 0));
    printf("นิพจน์ที่ 4: r4 = (((x += 1.5) > y) || (b-- > 0)); \nผลลัพธ์: %.2f \n\n", r4);

    return 0;
}
